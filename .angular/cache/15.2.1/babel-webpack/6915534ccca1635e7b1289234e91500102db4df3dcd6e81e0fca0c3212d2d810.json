{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction CategoryHighscorePageComponent_tr_28_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\");\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"td\");\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"td\")(23, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function CategoryHighscorePageComponent_tr_28_Template_button_click_23_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const score_r2 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.editScore(score_r2));\n    });\n    i0.ɵɵelement(24, \"i\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function CategoryHighscorePageComponent_tr_28_Template_button_click_25_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const score_r2 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.deleteScore(score_r2));\n    });\n    i0.ɵɵelement(26, \"i\", 11);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const score_r2 = ctx.$implicit;\n    const i_r3 = ctx.index;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r3 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(score_r2.spieler);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.weightedPoints(score_r2));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(score_r2.punktzahl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(11, 9, score_r2.start, \"short\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(14, 12, score_r2.start, \"short\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(17, 15, score_r2.ende, \"short\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.durationQuiz(score_r2));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(score_r2.kategorien_id);\n  }\n}\nfunction CategoryHighscorePageComponent_tr_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2, \"#\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"input\", 12);\n    i0.ɵɵlistener(\"ngModelChange\", function CategoryHighscorePageComponent_tr_29_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.newRow.spieler = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\")(8, \"input\", 13);\n    i0.ɵɵlistener(\"ngModelChange\", function CategoryHighscorePageComponent_tr_29_Template_input_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.newRow.punktzahl = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\")(13, \"input\", 14);\n    i0.ɵɵlistener(\"ngModelChange\", function CategoryHighscorePageComponent_tr_29_Template_input_ngModelChange_13_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.newRow.start = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"td\")(15, \"input\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function CategoryHighscorePageComponent_tr_29_Template_input_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.newRow.ende = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"td\");\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\")(19, \"input\", 16);\n    i0.ɵɵlistener(\"ngModelChange\", function CategoryHighscorePageComponent_tr_29_Template_input_ngModelChange_19_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.newRow.kategorien_id = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"td\")(21, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function CategoryHighscorePageComponent_tr_29_Template_button_click_21_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.submitNewScore(ctx_r13.newRow));\n    });\n    i0.ɵɵelement(22, \"i\", 17);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newRow.spieler);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.weightedPoints(ctx_r1.newRow));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newRow.punktzahl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(11, 8, ctx_r1.newRow.start, \"short\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newRow.start);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newRow.ende);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.durationQuiz(ctx_r1.newRow));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newRow.kategorien_id);\n  }\n}\nexport class CategoryHighscorePageComponent {\n  constructor(http, router) {\n    this.http = http;\n    this.router = router;\n    this.newRow = {};\n  }\n  ngOnInit() {\n    const url = 'http://localhost:5002/spiele';\n    this.http.get(url).subscribe(response => {\n      this.highscore = response;\n    });\n  }\n  prepareScoreData(score) {\n    const startISO = this.convertToISODate(score.start);\n    const endeISO = this.convertToISODate(score.ende);\n    return {\n      spieler: score.spieler,\n      punktzahl: score.punktzahl,\n      start: startISO,\n      ende: endeISO,\n      kategorien_id: score.kategorien_id\n    };\n  }\n  convertToISODate(dateString) {\n    const date = new Date(dateString);\n    return date.toISOString();\n  }\n  addNewRow() {\n    this.newRow = {\n      editing: true\n    };\n    this.highscore.push(this.newRow);\n  }\n  submitNewScore(score) {\n    if (score.spieler && score.punktzahl && score.start && score.ende && score.kategorien_id) {\n      const url = 'http://localhost:5002/spiele';\n      this.http.post(url, this.prepareScoreData(score)).subscribe(() => {\n        this.newRow = {};\n        score.editing = false;\n      });\n    }\n  }\n  deleteScore(score) {\n    const url = `http://localhost:5002/spiele/${score.id}`;\n    this.http.delete(url).subscribe(() => {\n      this.highscore = this.highscore.filter(s => s.id !== score.id);\n    });\n  }\n  editScore(score) {\n    score.editing = true;\n  }\n  updateScore(score) {\n    if (score.spieler && score.punktzahl && score.start && score.ende && score.kategorien_id) {\n      const url = `http://localhost:5002/spiele/${score.id}`;\n      this.http.put(url, this.prepareScoreData(score)).subscribe(() => {\n        score.editing = false;\n      });\n    }\n  }\n  durationQuiz(score) {\n    const start = new Date(score.start);\n    const end = new Date(score.ende);\n    const duration = (end.getTime() - start.getTime()) / 1000;\n    return duration;\n  }\n  weightedPoints(score) {\n    const duration = this.durationQuiz(score);\n    const weightedPoints = score.punktzahl / duration;\n    return weightedPoints;\n  }\n}\nCategoryHighscorePageComponent.ɵfac = function CategoryHighscorePageComponent_Factory(t) {\n  return new (t || CategoryHighscorePageComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router));\n};\nCategoryHighscorePageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CategoryHighscorePageComponent,\n  selectors: [[\"app-category-highscore-page\"]],\n  decls: 33,\n  vars: 2,\n  consts: [[1, \"container\"], [1, \"highscore-container\"], [1, \"text-center\"], [1, \"table\", \"table-bordered\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [1, \"button-container\"], [1, \"btn\", \"btn-primary\", \"add-new\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", \"action-btn\", 3, \"click\"], [1, \"fas\", \"fa-edit\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", \"action-btn\", 3, \"click\"], [1, \"far\", \"fa-trash-alt\"], [\"placeholder\", \"Name\", 1, \"new-input\", 3, \"ngModel\", \"ngModelChange\"], [\"placeholder\", \"Score\", 1, \"new-input\", 3, \"ngModel\", \"ngModelChange\"], [\"placeholder\", \"Start Game\", 1, \"new-input\", 3, \"ngModel\", \"ngModelChange\"], [\"placeholder\", \"End Game\", 1, \"new-input\", 3, \"ngModel\", \"ngModelChange\"], [\"placeholder\", \"Choosen Category\", 1, \"new-input\", 3, \"ngModel\", \"ngModelChange\"], [1, \"fas\", \"fa-check\"]],\n  template: function CategoryHighscorePageComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h3\", 2);\n      i0.ɵɵtext(3, \"Highscore List\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"table\", 3)(5, \"thead\")(6, \"tr\")(7, \"th\");\n      i0.ɵɵtext(8, \"Place\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"th\");\n      i0.ɵɵtext(10, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"th\");\n      i0.ɵɵtext(12, \"Weighted Points\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\");\n      i0.ɵɵtext(14, \"Score\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"th\");\n      i0.ɵɵtext(16, \"Time\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"th\");\n      i0.ɵɵtext(18, \"Start Game\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"th\");\n      i0.ɵɵtext(20, \"End Game\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"th\");\n      i0.ɵɵtext(22, \"Duration Quiz\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"th\");\n      i0.ɵɵtext(24, \"Choosen Category\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"th\");\n      i0.ɵɵtext(26, \"Actions\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(27, \"tbody\");\n      i0.ɵɵtemplate(28, CategoryHighscorePageComponent_tr_28_Template, 27, 18, \"tr\", 4);\n      i0.ɵɵtemplate(29, CategoryHighscorePageComponent_tr_29_Template, 23, 11, \"tr\", 5);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(30, \"div\", 6)(31, \"button\", 7);\n      i0.ɵɵlistener(\"click\", function CategoryHighscorePageComponent_Template_button_click_31_listener() {\n        return ctx.addNewRow();\n      });\n      i0.ɵɵtext(32, \"Add New\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(28);\n      i0.ɵɵproperty(\"ngForOf\", ctx.highscore);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.newRow.editing);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, i3.DatePipe],\n  styles: [\".container[_ngcontent-%COMP%] {\\n    display: flex;\\n    height: 100%;\\n    gap: 2rem;\\n}\\n\\n.highscore-container[_ngcontent-%COMP%] {\\n    flex: 4;\\n    width: 100%; \\n    max-width: 100%;\\n    background-color: white;\\n    border-radius: 8px;\\n    padding: 20px;\\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\\n    margin: 0 auto; \\n    margin-bottom: 2rem;\\n}\\n\\n.button-container[_ngcontent-%COMP%] {\\n    display: flex;\\n    justify-content: space-between;\\n    margin-top: 10px;\\n}\\n\\n.table[_ngcontent-%COMP%] {\\n    width: 100%;\\n}\\n\\n\\n.new-input[_ngcontent-%COMP%] {\\n    width: 100%;\\n}\\n\\n\\n@media (max-width: 991px) {\\n    .container[_ngcontent-%COMP%] {\\n        flex-direction: column;\\n    }\\n    .category-container[_ngcontent-%COMP%], .highscore-container[_ngcontent-%COMP%] {\\n        max-width: 100%;\\n    }\\n}\\n\\n.btn[_ngcontent-%COMP%] {\\n    display: inline-flex;\\n    align-items: center;\\n    justify-content: center;\\n    height: 34px;\\n    padding: 0 12px;\\n}\\n\\n.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n    display: inline-block;\\n    vertical-align: middle;\\n}\\n\\n.action-btn-group[_ngcontent-%COMP%] {\\n    display: inline-flex;\\n}\\n\\n.action-btn[_ngcontent-%COMP%] {\\n    margin-right: 4px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZGFzaGJvYXJkL2NhdGVnb3J5LWhpZ2hzY29yZS1wYWdlL2NhdGVnb3J5LWhpZ2hzY29yZS1wYWdlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxhQUFhO0lBQ2IsWUFBWTtJQUNaLFNBQVM7QUFDYjs7QUFFQTtJQUNJLE9BQU87SUFDUCxXQUFXLEVBQUUsY0FBYztJQUMzQixlQUFlO0lBQ2YsdUJBQXVCO0lBQ3ZCLGtCQUFrQjtJQUNsQixhQUFhO0lBQ2Isd0NBQXdDO0lBQ3hDLGNBQWMsRUFBRSxlQUFlO0lBQy9CLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGFBQWE7SUFDYiw4QkFBOEI7SUFDOUIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksV0FBVztBQUNmOztBQUVBLDRCQUE0QjtBQUM1QjtJQUNJLFdBQVc7QUFDZjs7QUFFQSxzQ0FBc0M7QUFDdEM7SUFDSTtRQUNJLHNCQUFzQjtJQUMxQjtJQUNBOztRQUVJLGVBQWU7SUFDbkI7QUFDSjs7QUFFQTtJQUNJLG9CQUFvQjtJQUNwQixtQkFBbUI7SUFDbkIsdUJBQXVCO0lBQ3ZCLFlBQVk7SUFDWixlQUFlO0FBQ25COztBQUVBO0lBQ0kscUJBQXFCO0lBQ3JCLHNCQUFzQjtBQUMxQjs7QUFFQTtJQUNJLG9CQUFvQjtBQUN4Qjs7QUFFQTtJQUNJLGlCQUFpQjtBQUNyQiIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIGdhcDogMnJlbTtcbn1cblxuLmhpZ2hzY29yZS1jb250YWluZXIge1xuICAgIGZsZXg6IDQ7XG4gICAgd2lkdGg6IDEwMCU7IC8qIEFkZCB3aWR0aCAqL1xuICAgIG1heC13aWR0aDogMTAwJTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgcGFkZGluZzogMjBweDtcbiAgICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICAgIG1hcmdpbjogMCBhdXRvOyAvKiBBZGQgbWFyZ2luICovXG4gICAgbWFyZ2luLWJvdHRvbTogMnJlbTtcbn1cblxuLmJ1dHRvbi1jb250YWluZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgIG1hcmdpbi10b3A6IDEwcHg7XG59XG5cbi50YWJsZSB7XG4gICAgd2lkdGg6IDEwMCU7XG59XG5cbi8qIEFkZCB0aGUgbmV3LWlucHV0IGNsYXNzICovXG4ubmV3LWlucHV0IHtcbiAgICB3aWR0aDogMTAwJTtcbn1cblxuLyogTWVkaWEgUXVlcnkgZm9yIHJlc3BvbnNpdmUgbWFyZ2luICovXG5AbWVkaWEgKG1heC13aWR0aDogOTkxcHgpIHtcbiAgICAuY29udGFpbmVyIHtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICB9XG4gICAgLmNhdGVnb3J5LWNvbnRhaW5lcixcbiAgICAuaGlnaHNjb3JlLWNvbnRhaW5lciB7XG4gICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICB9XG59XG5cbi5idG4ge1xuICAgIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgaGVpZ2h0OiAzNHB4O1xuICAgIHBhZGRpbmc6IDAgMTJweDtcbn1cblxuLmJ0biBpIHtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbn1cblxuLmFjdGlvbi1idG4tZ3JvdXAge1xuICAgIGRpc3BsYXk6IGlubGluZS1mbGV4O1xufVxuXG4uYWN0aW9uLWJ0biB7XG4gICAgbWFyZ2luLXJpZ2h0OiA0cHg7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","CategoryHighscorePageComponent","constructor","http","router","ngOnInit","url","get","subscribe","response","highscore","prepareScoreData","score","startISO","convertToISODate","start","endeISO","ende","spieler","punktzahl","kategorien_id","dateString","date","Date","toISOString","addNewRow","newRow","editing","push","submitNewScore","post","deleteScore","id","delete","filter","s","editScore","updateScore","put","durationQuiz","end","duration","getTime","weightedPoints","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/tomhanks/Documents/Develop/BBB/M151/Code_Angular_Project/src/app/dashboard/category-highscore-page/category-highscore-page.component.html","/Users/tomhanks/Documents/Develop/BBB/M151/Code_Angular_Project/src/app/dashboard/category-highscore-page/category-highscore-page.component.ts"],"sourcesContent":["<script src=\"https://kit.fontawesome.com/c98497f7ae.js\" crossorigin=\"anonymous\"></script>\n\n<div class=\"container\">\n    <div class=\"highscore-container\">\n        <h3 class=\"text-center\">Highscore List</h3>\n        <table class=\"table table-bordered\">\n            <thead>\n                <tr>\n                    <th>Place</th>\n                    <th>Name</th>\n                    <th>Weighted Points</th>\n                    <th>Score</th>\n                    <th>Time</th>\n                    <th>Start Game</th>\n                    <th>End Game</th>\n                    <th>Duration Quiz</th>\n                    <th>Choosen Category</th>\n                    <th>Actions</th>\n                </tr>\n            </thead>\n            <tbody>\n                <!-- Add your highscore rows here -->\n                <tr *ngFor=\"let score of highscore; let i = index\">\n                    <td>{{ i + 1 }}</td>\n                    <td>{{ score.spieler }}</td>\n                    <td>{{ weightedPoints(score) }}</td>\n                    <td>{{ score.punktzahl }}</td>\n                    <td>{{ score.start | date:'short' }}</td>\n                    <td>{{ score.start | date:'short' }}</td>\n                    <td>{{ score.ende | date:'short' }}</td>\n                    <td>{{ durationQuiz(score) }}</td>\n                    <td>{{ score.kategorien_id }}</td>\n                    <td>\n                        <button type=\"button\" class=\"btn btn-success action-btn\" (click)=\"editScore(score)\"><i class=\"fas fa-edit\"></i></button>\n                        <button type=\"button\" class=\"btn btn-danger action-btn\" (click)=\"deleteScore(score)\"><i class=\"far fa-trash-alt\"></i></button>\n                    </td>\n                </tr>\n                <tr *ngIf=\"newRow.editing\">\n                    <td>#</td>\n                    <td><input [(ngModel)]=\"newRow.spieler\" placeholder=\"Name\" class=\"new-input\"></td>\n                    <td>{{weightedPoints(newRow)}}</td>\n                    <td><input [(ngModel)]=\"newRow.punktzahl\" placeholder=\"Score\" class=\"new-input\"></td>\n                    <td>{{ newRow.start | date:'short' }}</td>\n                    <td><input [(ngModel)]=\"newRow.start\" placeholder=\"Start Game\" class=\"new-input\"></td>\n                    <td><input [(ngModel)]=\"newRow.ende\" placeholder=\"End Game\" class=\"new-input\"></td>\n                    <td>{{durationQuiz(newRow)}}</td>\n                    <td><input [(ngModel)]=\"newRow.kategorien_id\" placeholder=\"Choosen Category\" class=\"new-input\"></td>\n                    <td>\n                        <button type=\"button\" class=\"btn btn-success action-btn\" (click)=\"submitNewScore(newRow)\"><i class=\"fas fa-check\"></i></button>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n        <div class=\"button-container\">\n            <button class=\"btn btn-primary add-new\" (click)=\"addNewRow()\">Add New</button>\n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-category-highscore-page',\n  templateUrl: './category-highscore-page.component.html',\n  styleUrls: ['./category-highscore-page.component.css']\n})\nexport class CategoryHighscorePageComponent implements OnInit {\n  highscore!: Array<any>;\n  newRow: any = {};\n\n  constructor(private http: HttpClient, private router: Router) { }\n\n  ngOnInit() {\n    const url = 'http://localhost:5002/spiele';\n    this.http.get<Array<any>>(url).subscribe((response) => {\n      this.highscore = response;\n    });\n  }\n\n  prepareScoreData(score: any) {\n    const startISO = this.convertToISODate(score.start);\n    const endeISO = this.convertToISODate(score.ende);\n\n    return {\n      spieler: score.spieler,\n      punktzahl: score.punktzahl,\n      start: startISO,\n      ende: endeISO,\n      kategorien_id: score.kategorien_id\n    };\n  }\n\n  convertToISODate(dateString: string) {\n    const date = new Date(dateString);\n    return date.toISOString();\n  }\n\n  addNewRow() {\n    this.newRow = {\n      editing: true\n    };\n    this.highscore.push(this.newRow);\n  }\n\n  submitNewScore(score: any) {\n    if (score.spieler && score.punktzahl && score.start && score.ende && score.kategorien_id) {\n      const url = 'http://localhost:5002/spiele';\n      this.http.post(url, this.prepareScoreData(score)).subscribe(() => {\n        this.newRow = {};\n        score.editing = false;\n      });\n    }\n  }\n\n  deleteScore(score: any) {\n    const url = `http://localhost:5002/spiele/${score.id}`;\n    this.http.delete(url).subscribe(() => {\n      this.highscore = this.highscore.filter(s => s.id !== score.id);\n    });\n  }\n\n  editScore(score: any) {\n    score.editing = true;\n  }\n\n  updateScore(score: any) {\n    if (score.spieler && score.punktzahl && score.start && score.ende && score.kategorien_id) {\n      const url = `http://localhost:5002/spiele/${score.id}`;\n      this.http.put(url, this.prepareScoreData(score)).subscribe(() => {\n        score.editing = false;\n      });\n    }\n  }\n  \n\n  durationQuiz(score: any): number {\n    const start = new Date(score.start);\n    const end = new Date(score.ende);\n    const duration = (end.getTime() - start.getTime()) / 1000;\n    return duration;\n  }\n\n  weightedPoints(score: any): number {\n    const duration = this.durationQuiz(score);\n    const weightedPoints = score.punktzahl / duration;\n    return weightedPoints;\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}