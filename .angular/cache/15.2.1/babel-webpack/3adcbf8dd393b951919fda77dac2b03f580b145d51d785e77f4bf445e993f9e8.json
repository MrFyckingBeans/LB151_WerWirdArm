{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nfunction CategoryHighscorePageComponent_tr_28_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\");\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"td\");\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"td\")(23, \"button\", 9);\n    i0.ɵɵelement(24, \"i\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function CategoryHighscorePageComponent_tr_28_Template_button_click_25_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const score_r2 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.deleteScore(score_r2));\n    });\n    i0.ɵɵelement(26, \"i\", 12);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const score_r2 = ctx.$implicit;\n    const i_r3 = ctx.index;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r3 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(score_r2.spieler);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.weightedPoints(score_r2));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(score_r2.punktzahl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(11, 9, score_r2.start, \"short\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(14, 12, score_r2.start, \"short\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(17, 15, score_r2.ende, \"short\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.durationQuiz(score_r2));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(score_r2.kategorien_id);\n  }\n}\nfunction CategoryHighscorePageComponent_tr_30_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵtext(1, \" Name is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CategoryHighscorePageComponent_tr_30_div_10_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Score is required.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CategoryHighscorePageComponent_tr_30_div_10_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Score must be at least 0.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CategoryHighscorePageComponent_tr_30_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, CategoryHighscorePageComponent_tr_30_div_10_div_1_Template, 2, 0, \"div\", 6);\n    i0.ɵɵtemplate(2, CategoryHighscorePageComponent_tr_30_div_10_div_2_Template, 2, 0, \"div\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    let tmp_0_0;\n    let tmp_1_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r7.scoreForm.get(\"punktzahl\")) == null ? null : tmp_0_0.errors == null ? null : tmp_0_0.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_1_0 = ctx_r7.scoreForm.get(\"punktzahl\")) == null ? null : tmp_1_0.errors[\"min\"]) !== undefined && ((tmp_1_0 = ctx_r7.scoreForm.get(\"punktzahl\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"min\"]));\n  }\n}\nfunction CategoryHighscorePageComponent_tr_30_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2, \"#\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵelement(4, \"input\", 13);\n    i0.ɵɵtemplate(5, CategoryHighscorePageComponent_tr_30_div_5_Template, 2, 0, \"div\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵelement(9, \"input\", 15);\n    i0.ɵɵtemplate(10, CategoryHighscorePageComponent_tr_30_div_10_Template, 3, 2, \"div\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\")(12, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function CategoryHighscorePageComponent_tr_30_Template_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.submitNewScore());\n    });\n    i0.ɵɵelement(13, \"i\", 17);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    let tmp_2_0;\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_0_0 = ctx_r1.scoreForm.get(\"spieler\")) == null ? null : tmp_0_0.invalid) && ((tmp_0_0 = ctx_r1.scoreForm.get(\"spieler\")) == null ? null : tmp_0_0.touched));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.weightedPoints(ctx_r1.newRow));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx_r1.scoreForm.get(\"punktzahl\")) == null ? null : tmp_2_0.errors == null ? null : tmp_2_0.errors[\"required\"]) !== undefined);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r1.scoreForm.invalid);\n  }\n}\nexport class CategoryHighscorePageComponent {\n  constructor(http, router, fb) {\n    this.http = http;\n    this.router = router;\n    this.fb = fb;\n    this.newRow = {};\n    this.scoreForm = this.fb.group({\n      spieler: ['', Validators.required],\n      punktzahl: ['', [Validators.required, Validators.min(0)]],\n      start: ['', [Validators.required]],\n      ende: ['', [Validators.required]],\n      kategorien_id: ['', Validators.required]\n    });\n  }\n  ngOnInit() {\n    const url = 'http://localhost:5002/spiele';\n    this.http.get(url).subscribe(response => {\n      this.highscore = response;\n    });\n  }\n  prepareScoreData(score) {\n    const startISO = this.convertToISODate(score.start);\n    const endeISO = this.convertToISODate(score.ende);\n    return {\n      spieler: score.spieler,\n      punktzahl: score.punktzahl,\n      start: startISO,\n      ende: endeISO,\n      kategorien_id: score.kategorien_id\n    };\n  }\n  convertToISODate(dateString) {\n    const date = new Date(dateString);\n    return date.toISOString();\n  }\n  addNewRow() {\n    this.newRow = {\n      editing: true\n    };\n    this.highscore.push(this.newRow);\n  }\n  submitNewScore() {\n    if (this.scoreForm.valid) {\n      const score = this.scoreForm.value;\n      const url = 'http://localhost:5002/spiele';\n      this.http.post(url, this.prepareScoreData(score)).subscribe(() => {\n        this.newRow = {};\n        score.editing = false;\n      });\n    }\n  }\n  deleteScore(score) {\n    const url = `http://localhost:5002/spiele/${score.id}`;\n    this.http.delete(url).subscribe(() => {\n      this.highscore = this.highscore.filter(s => s.id !== score.id);\n    });\n  }\n  durationQuiz(score) {\n    const start = new Date(score.start);\n    const end = new Date(score.ende);\n    const duration = (end.getTime() - start.getTime()) / 1000;\n    return duration;\n  }\n  weightedPoints(score) {\n    const duration = this.durationQuiz(score);\n    const weightedPoints = score.punktzahl / duration;\n    return weightedPoints;\n  }\n}\nCategoryHighscorePageComponent.ɵfac = function CategoryHighscorePageComponent_Factory(t) {\n  return new (t || CategoryHighscorePageComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.FormBuilder));\n};\nCategoryHighscorePageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CategoryHighscorePageComponent,\n  selectors: [[\"app-category-highscore-page\"]],\n  decls: 34,\n  vars: 3,\n  consts: [[1, \"container\"], [1, \"highscore-container\"], [1, \"text-center\"], [1, \"table\", \"table-bordered\"], [4, \"ngFor\", \"ngForOf\"], [3, \"formGroup\"], [4, \"ngIf\"], [1, \"button-container\"], [1, \"btn\", \"btn-primary\", \"add-new\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", \"action-btn\"], [1, \"fas\", \"fa-edit\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", \"action-btn\", 3, \"click\"], [1, \"far\", \"fa-trash-alt\"], [\"formControlName\", \"spieler\", \"placeholder\", \"Name\", 1, \"new-input\"], [\"class\", \"error-message\", 4, \"ngIf\"], [\"formControlName\", \"punktzahl\", \"placeholder\", \"Score\", 1, \"new-input\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", \"action-btn\", 3, \"disabled\", \"click\"], [1, \"fas\", \"fa-check\"], [1, \"error-message\"]],\n  template: function CategoryHighscorePageComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h3\", 2);\n      i0.ɵɵtext(3, \"Highscore List\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"table\", 3)(5, \"thead\")(6, \"tr\")(7, \"th\");\n      i0.ɵɵtext(8, \"Place\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"th\");\n      i0.ɵɵtext(10, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"th\");\n      i0.ɵɵtext(12, \"Weighted Points\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\");\n      i0.ɵɵtext(14, \"Score\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"th\");\n      i0.ɵɵtext(16, \"Time\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"th\");\n      i0.ɵɵtext(18, \"Start Game\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"th\");\n      i0.ɵɵtext(20, \"End Game\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"th\");\n      i0.ɵɵtext(22, \"Duration Quiz\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"th\");\n      i0.ɵɵtext(24, \"Choosen Category\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"th\");\n      i0.ɵɵtext(26, \"Actions\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(27, \"tbody\");\n      i0.ɵɵtemplate(28, CategoryHighscorePageComponent_tr_28_Template, 27, 18, \"tr\", 4);\n      i0.ɵɵelementStart(29, \"form\", 5);\n      i0.ɵɵtemplate(30, CategoryHighscorePageComponent_tr_30_Template, 14, 4, \"tr\", 6);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(31, \"div\", 7)(32, \"button\", 8);\n      i0.ɵɵlistener(\"click\", function CategoryHighscorePageComponent_Template_button_click_32_listener() {\n        return ctx.addNewRow();\n      });\n      i0.ɵɵtext(33, \"Add New\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(28);\n      i0.ɵɵproperty(\"ngForOf\", ctx.highscore);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formGroup\", ctx.scoreForm);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.newRow.editing);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName, i4.DatePipe],\n  styles: [\".container[_ngcontent-%COMP%] {\\n    display: flex;\\n    height: 100%;\\n    gap: 2rem;\\n}\\n\\n.highscore-container[_ngcontent-%COMP%] {\\n    flex: 4;\\n    width: 100%; \\n    max-width: 100%;\\n    background-color: white;\\n    border-radius: 8px;\\n    padding: 20px;\\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\\n    margin: 0 auto; \\n    margin-bottom: 2rem;\\n}\\n\\n.button-container[_ngcontent-%COMP%] {\\n    display: flex;\\n    justify-content: space-between;\\n    margin-top: 10px;\\n}\\n\\n.table[_ngcontent-%COMP%] {\\n    width: 100%;\\n}\\n\\n\\n.new-input[_ngcontent-%COMP%] {\\n    width: 100%;\\n}\\n\\n\\n@media (max-width: 991px) {\\n    .container[_ngcontent-%COMP%] {\\n        flex-direction: column;\\n    }\\n    .category-container[_ngcontent-%COMP%], .highscore-container[_ngcontent-%COMP%] {\\n        max-width: 100%;\\n    }\\n}\\n\\n.btn[_ngcontent-%COMP%] {\\n    display: inline-flex;\\n    align-items: center;\\n    justify-content: center;\\n    height: 34px;\\n    padding: 0 12px;\\n}\\n\\n.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n    display: inline-block;\\n    vertical-align: middle;\\n}\\n\\n.action-btn-group[_ngcontent-%COMP%] {\\n    display: inline-flex;\\n}\\n\\n.action-btn[_ngcontent-%COMP%] {\\n    margin-right: 4px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZGFzaGJvYXJkL2NhdGVnb3J5LWhpZ2hzY29yZS1wYWdlL2NhdGVnb3J5LWhpZ2hzY29yZS1wYWdlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxhQUFhO0lBQ2IsWUFBWTtJQUNaLFNBQVM7QUFDYjs7QUFFQTtJQUNJLE9BQU87SUFDUCxXQUFXLEVBQUUsY0FBYztJQUMzQixlQUFlO0lBQ2YsdUJBQXVCO0lBQ3ZCLGtCQUFrQjtJQUNsQixhQUFhO0lBQ2Isd0NBQXdDO0lBQ3hDLGNBQWMsRUFBRSxlQUFlO0lBQy9CLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGFBQWE7SUFDYiw4QkFBOEI7SUFDOUIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksV0FBVztBQUNmOztBQUVBLDRCQUE0QjtBQUM1QjtJQUNJLFdBQVc7QUFDZjs7QUFFQSxzQ0FBc0M7QUFDdEM7SUFDSTtRQUNJLHNCQUFzQjtJQUMxQjtJQUNBOztRQUVJLGVBQWU7SUFDbkI7QUFDSjs7QUFFQTtJQUNJLG9CQUFvQjtJQUNwQixtQkFBbUI7SUFDbkIsdUJBQXVCO0lBQ3ZCLFlBQVk7SUFDWixlQUFlO0FBQ25COztBQUVBO0lBQ0kscUJBQXFCO0lBQ3JCLHNCQUFzQjtBQUMxQjs7QUFFQTtJQUNJLG9CQUFvQjtBQUN4Qjs7QUFFQTtJQUNJLGlCQUFpQjtBQUNyQiIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIGdhcDogMnJlbTtcbn1cblxuLmhpZ2hzY29yZS1jb250YWluZXIge1xuICAgIGZsZXg6IDQ7XG4gICAgd2lkdGg6IDEwMCU7IC8qIEFkZCB3aWR0aCAqL1xuICAgIG1heC13aWR0aDogMTAwJTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgcGFkZGluZzogMjBweDtcbiAgICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICAgIG1hcmdpbjogMCBhdXRvOyAvKiBBZGQgbWFyZ2luICovXG4gICAgbWFyZ2luLWJvdHRvbTogMnJlbTtcbn1cblxuLmJ1dHRvbi1jb250YWluZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgIG1hcmdpbi10b3A6IDEwcHg7XG59XG5cbi50YWJsZSB7XG4gICAgd2lkdGg6IDEwMCU7XG59XG5cbi8qIEFkZCB0aGUgbmV3LWlucHV0IGNsYXNzICovXG4ubmV3LWlucHV0IHtcbiAgICB3aWR0aDogMTAwJTtcbn1cblxuLyogTWVkaWEgUXVlcnkgZm9yIHJlc3BvbnNpdmUgbWFyZ2luICovXG5AbWVkaWEgKG1heC13aWR0aDogOTkxcHgpIHtcbiAgICAuY29udGFpbmVyIHtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICB9XG4gICAgLmNhdGVnb3J5LWNvbnRhaW5lcixcbiAgICAuaGlnaHNjb3JlLWNvbnRhaW5lciB7XG4gICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICB9XG59XG5cbi5idG4ge1xuICAgIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgaGVpZ2h0OiAzNHB4O1xuICAgIHBhZGRpbmc6IDAgMTJweDtcbn1cblxuLmJ0biBpIHtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbn1cblxuLmFjdGlvbi1idG4tZ3JvdXAge1xuICAgIGRpc3BsYXk6IGlubGluZS1mbGV4O1xufVxuXG4uYWN0aW9uLWJ0biB7XG4gICAgbWFyZ2luLXJpZ2h0OiA0cHg7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["Validators","i0","CategoryHighscorePageComponent","constructor","http","router","fb","scoreForm","group","spieler","required","punktzahl","min","start","ende","kategorien_id","ngOnInit","url","get","subscribe","response","highscore","prepareScoreData","score","startISO","convertToISODate","endeISO","dateString","date","Date","toISOString","addNewRow","newRow","editing","push","submitNewScore","valid","value","post","deleteScore","id","delete","filter","s","durationQuiz","end","duration","getTime","weightedPoints","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/tomhanks/Documents/Develop/BBB/M151/Code_Angular_Project/src/app/dashboard/category-highscore-page/category-highscore-page.component.ts","/Users/tomhanks/Documents/Develop/BBB/M151/Code_Angular_Project/src/app/dashboard/category-highscore-page/category-highscore-page.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Router } from '@angular/router';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n\n@Component({\n  selector: 'app-category-highscore-page',\n  templateUrl: './category-highscore-page.component.html',\n  styleUrls: ['./category-highscore-page.component.css']\n})\nexport class CategoryHighscorePageComponent implements OnInit {\n  highscore!: Array<any>;\n  newRow: any = {};\n  scoreForm: FormGroup;\n\n  constructor(private http: HttpClient, private router: Router, private fb: FormBuilder) {\n    this.scoreForm = this.fb.group({\n      spieler: ['', Validators.required],\n      punktzahl: ['', [Validators.required, Validators.min(0)]],\n      start: ['', [Validators.required]],\n      ende: ['', [Validators.required]],\n      kategorien_id: ['', Validators.required],\n    });\n  }\n\n  ngOnInit() {\n    const url = 'http://localhost:5002/spiele';\n    this.http.get<Array<any>>(url).subscribe((response) => {\n      this.highscore = response;\n    });\n  }\n\n  prepareScoreData(score: any) {\n    const startISO = this.convertToISODate(score.start);\n    const endeISO = this.convertToISODate(score.ende);\n\n    return {\n      spieler: score.spieler,\n      punktzahl: score.punktzahl,\n      start: startISO,\n      ende: endeISO,\n      kategorien_id: score.kategorien_id\n    };\n  }\n\n  convertToISODate(dateString: string) {\n    const date = new Date(dateString);\n    return date.toISOString();\n  }\n\n  addNewRow() {\n    this.newRow = {\n      editing: true\n    };\n    this.highscore.push(this.newRow);\n  }\n\n  submitNewScore() {\n    if (this.scoreForm.valid) {\n      const score = this.scoreForm.value;\n      const url = 'http://localhost:5002/spiele';\n      this.http.post(url, this.prepareScoreData(score)).subscribe(() => {\n        this.newRow = {};\n        score.editing = false;\n      });\n    }\n  }\n\n  deleteScore(score: any) {\n    const url = `http://localhost:5002/spiele/${score.id}`;\n    this.http.delete(url).subscribe(() => {\n      this.highscore = this.highscore.filter(s => s.id !== score.id);\n    });\n  }\n\n  durationQuiz(score: any): number {\n    const start = new Date(score.start);\n    const end = new Date(score.ende);\n    const duration = (end.getTime() - start.getTime()) / 1000;\n    return duration;\n  }\n\n  weightedPoints(score: any): number {\n    const duration = this.durationQuiz(score);\n    const weightedPoints = score.punktzahl / duration;\n    return weightedPoints;\n  }\n}\n","<script src=\"https://kit.fontawesome.com/c98497f7ae.js\" crossorigin=\"anonymous\"></script>\n\n<div class=\"container\">\n    <div class=\"highscore-container\">\n        <h3 class=\"text-center\">Highscore List</h3>\n        <table class=\"table table-bordered\">\n            <thead>\n                <tr>\n                    <th>Place</th>\n                    <th>Name</th>\n                    <th>Weighted Points</th>\n                    <th>Score</th>\n                    <th>Time</th>\n                    <th>Start Game</th>\n                    <th>End Game</th>\n                    <th>Duration Quiz</th>\n                    <th>Choosen Category</th>\n                    <th>Actions</th>\n                </tr>\n            </thead>\n            <tbody>\n                <!-- Add your highscore rows here -->\n                <tr *ngFor=\"let score of highscore; let i = index\">\n                    <td>{{ i + 1 }}</td>\n                    <td>{{ score.spieler }}</td>\n                    <td>{{ weightedPoints(score) }}</td>\n                    <td>{{ score.punktzahl }}</td>\n                    <td>{{ score.start | date:'short' }}</td>\n                    <td>{{ score.start | date:'short' }}</td>\n                    <td>{{ score.ende | date:'short' }}</td>\n                    <td>{{ durationQuiz(score) }}</td>\n                    <td>{{ score.kategorien_id }}</td>\n                    <td>\n                        <button type=\"button\" class=\"btn btn-success action-btn\"><i class=\"fas fa-edit\"></i></button>\n                        <button type=\"button\" class=\"btn btn-danger action-btn\" (click)=\"deleteScore(score)\"><i class=\"far fa-trash-alt\"></i></button>\n                    </td>\n                </tr>\n                <form [formGroup]=\"scoreForm\">\n                    <tr *ngIf=\"newRow.editing\">\n                      <td>#</td>\n                      <td>\n                        <input formControlName=\"spieler\" placeholder=\"Name\" class=\"new-input\">\n                        <!-- Add an error message when the spieler field is invalid -->\n                        <div *ngIf=\"scoreForm.get('spieler')?.invalid && scoreForm.get('spieler')?.touched\" class=\"error-message\">\n                            Name is required.\n                          </div>\n                      </td>\n                      <td>{{weightedPoints(newRow)}}</td>\n                      <td>\n                        <input formControlName=\"punktzahl\" placeholder=\"Score\" class=\"new-input\">\n                        <!-- Add error messages when the punktzahl field is invalid -->\n                        <div *ngIf=\"scoreForm.get('punktzahl')?.errors?.['required'] !== undefined\">\n                            <div *ngIf=\"scoreForm.get('punktzahl')?.errors?.['required']\">Score is required.</div>\n                            <div *ngIf=\"scoreForm.get('punktzahl')?.errors['min'] !== undefined && scoreForm.get('punktzahl')?.errors?.['min']\">Score must be at least 0.</div>\n                          </div>\n                          \n                      </td>\n                      <!-- ... -->\n                      <td>\n                        <button type=\"button\" class=\"btn btn-success action-btn\" [disabled]=\"scoreForm.invalid\" (click)=\"submitNewScore()\"><i class=\"fas fa-check\"></i></button>\n                      </td>\n                    </tr>\n                  </form>\n            </tbody>\n        </table>\n        <div class=\"button-container\">\n            <button class=\"btn btn-primary add-new\" (click)=\"addNewRow()\">Add New</button>\n        </div>\n    </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}